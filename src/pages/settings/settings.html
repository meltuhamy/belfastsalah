<ion-header>
  <ion-navbar>
    <ion-title>
      Settings
    </ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="showInfo()">
        <ion-icon name="information-circle"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <form [formGroup]="form" *ngIf="settingsReady">
    <ion-list no-border="">
      <ion-list-header>Notifications</ion-list-header>
      <ion-item>
        <ion-toggle formControlName="notifications"></ion-toggle>
        <ion-label>Notify before prayer</ion-label>
        <ion-icon name="alarm" item-left></ion-icon>
      </ion-item>
      <button ion-item (click)="clickNotifyMinutes()" *ngIf="options.notifications">
        <ion-icon name='timer' item-left></ion-icon>
        Minutes before prayer
        <ion-note item-right>
          {{options.notifyMinutes}}
        </ion-note>
      </button>
      <ion-list-header>Prayer time settings</ion-list-header>
      <button ion-item (click)="clickLocation()">
        <ion-icon name='map' item-left></ion-icon>
        Location
        <ion-note item-right>
          {{options.location | titleCase }}
        </ion-note>
      </button>
      <ion-item *ngIf="hasHanafiAsr">
        <ion-toggle formControlName="hanafiAsr"></ion-toggle>
        <ion-label>Use Hanafi Asr</ion-label>
        <ion-icon name="sunny" item-left></ion-icon>
      </ion-item>
      <ion-list-header>Night mode</ion-list-header>
      <ion-item>
        <ion-toggle formControlName="nightMode"></ion-toggle>
        <ion-label>Use night mode</ion-label>
        <ion-icon name="bulb" item-left></ion-icon>
      </ion-item>
      <ion-item *ngIf="options.nightMode">
        <ion-toggle formControlName="nightModeMaghrib"></ion-toggle>
        <ion-label>Enable at Maghrib</ion-label>
        <ion-icon name="moon" item-left></ion-icon>
      </ion-item>
    </ion-list>
  </form>
</ion-content>
