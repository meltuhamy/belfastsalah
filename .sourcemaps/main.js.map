{"version":3,"sources":["../../src/providers/notifications.ts","../../package.json","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/tabs/tabs.ts","../../src/pages/today/today.ts","../../src/pages/month/month.ts","../../src/pages/settings/settings.ts","../../src/pages/settings/minute-selector-modal.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/prayertimes.ts","../../src/app/app.component.ts","../../src/app/prayer-item.component.ts","../../src/app/prayer-grid.component.ts","../../src/app/defaultSettings.ts","../../src/app/pipes.ts","../../src/providers/analytics.ts","../../src/providers/settings.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import {Injectable} from '@angular/core';\nimport {LocalNotifications, ILocalNotification} from '@ionic-native/local-notifications';\nimport {PrayerTimes, PrayerTimeTime} from \"./prayertimes\";\nimport {Settings} from \"./settings\";\n\nimport {Platform, ToastController} from 'ionic-angular';\n\n\nimport addDays from 'date-fns/add_days';\nimport subtractMinutes from 'date-fns/sub_minutes';\nimport addMinutes from 'date-fns/add_minutes';\nimport {Analytics} from \"./analytics\";\n\nconst NUM_DAYS_TO_SCHEDULE: number = 20;\n\n@Injectable()\nexport class Notifications {\n  constructor(public platform: Platform,\n              public localNotifications: LocalNotifications,\n              public toastCtrl: ToastController,\n              public settings: Settings,\n              public prayerTimes : PrayerTimes,\n              public analytics: Analytics) {\n  }\n\n  schedule({showToast = false} = {}) {\n    if(!this.platform.is('cordova')){\n      return Promise.all([Promise.resolve()]);\n    }\n    return Promise.all([this.prayerTimes.getTimeTable(), this.settings.load()]).then(([prayerTimeTable]) => {\n      const notificationsEnabled = this.settings.allSettings.notifications;\n      const notifyMinutes = this.settings.allSettings.notifyMinutes;\n      if (!notificationsEnabled) {\n        return this.cancelAll()\n      }\n\n      const todayDate = new Date();\n\n      let notificationId = 0;\n\n      const scheduledNotifications: ILocalNotification[] = [];\n\n      for (let dayNum = 0; dayNum < NUM_DAYS_TO_SCHEDULE; dayNum++) {\n        const laterDate = addDays(todayDate, dayNum);\n        const oneDayLaterDate = addDays(laterDate, 1);\n        const times = prayerTimeTable.getByDate(laterDate);\n\n        ['fajr', 'shuruq', 'duhr', 'preferredAsr', 'maghrib', 'isha'].forEach(prayerName => {\n          const prayer: PrayerTimeTime = times[prayerName];\n          const prayerDate = prayer.toDate();\n          const notifyDate = subtractMinutes(prayerDate, notifyMinutes);\n          if (notifyDate > todayDate && notifyDate <= oneDayLaterDate) {\n            const notification: ILocalNotification = {\n              id: notificationId++,\n              title: `${prayer.name} is at ${prayer.formattedDate()}`,\n              at: notifyDate,\n              data: {prayerName},\n            };\n\n            if (notifyMinutes > 0) {\n              notification.text = `${notifyMinutes} minute reminder`;\n            }\n\n            scheduledNotifications.push(notification);\n          }\n\n        });\n      }\n\n      // add one more notification to remind the user to open the app!\n      scheduledNotifications.push({\n        id: notificationId++,\n        title: `Still need prayer reminders?`,\n        text: `Tap here to enable notifications`,\n        at: addMinutes(scheduledNotifications[scheduledNotifications.length - 1].at, 10),\n        data: {finalNotificationReminder: true}\n      });\n\n      return this.cancelAll()\n        .then(() => {\n          return this.localNotifications.schedule(scheduledNotifications);\n        })\n        .then(() => {\n          if(showToast){\n            this.toastCtrl.create({message: 'Notifications scheduled successfully', duration: 1600}).present();\n          }\n        });\n\n    });\n\n  }\n\n  startTracking(){\n    // Available events: schedule, trigger, click, update, clear, clearall, cancel, cancelall\n\n\n    function notificationProperties(notification, state){\n      let notificationData;\n      try {\n        notificationData = JSON.parse(notification.data);\n      } catch (e){\n        notificationData = {not_json: true};\n      }\n\n      notification.appState = state;\n\n      for(let k in notificationData){\n        if(notificationData.hasOwnProperty(k)){\n          notification['data_'+k] = notificationData[k];\n        }\n      }\n      return notification;\n    }\n\n    this.localNotifications.on('trigger', (n, a) => this.analytics.track('Notification: trigger', notificationProperties(n, a)));\n    this.localNotifications.on('click', (n, a) => {\n      this.analytics.track('Notification: click', notificationProperties(n, a));\n    });\n    this.localNotifications.on('update', () => this.analytics.track('Notification: update'));\n    this.localNotifications.on('clear', (n, a) => this.analytics.track('Notification: clearall', notificationProperties(n, a)));\n    this.localNotifications.on('clearall', (e, appState) => this.analytics.track('Notification: clearall', {appState}));\n    this.localNotifications.on('cancel', () => this.analytics.track('Notification: cancel'));\n    this.localNotifications.on('cancelall', () => this.analytics.track('Notification: cancelall'));\n\n  }\n\n  cancelAll() {\n    return this.localNotifications.cancelAll().then(() => new Promise(resolve => setTimeout(() => resolve(), 500)));\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/notifications.ts","module.exports = {\n\t\"name\": \"belfastsalah2\",\n\t\"author\": \"Mohamed Eltuhamy\",\n\t\"version\": \"2.1.0\",\n\t\"homepage\": \"http://ionicframework.com/\",\n\t\"private\": true,\n\t\"scripts\": {\n\t\t\"clean\": \"ionic-app-scripts clean\",\n\t\t\"build\": \"ionic-app-scripts build\",\n\t\t\"ionic:build\": \"ionic-app-scripts build\",\n\t\t\"ionic:serve\": \"ionic-app-scripts serve\",\n\t\t\"deploy\": \"ionic build --prod && ionic upload --note $(node -p -e \\\"require('./package.json').version\\\")\",\n\t\t\"release:android\": \"ionic run android --prod --release --buildConfig=./build.json\"\n\t},\n\t\"dependencies\": {\n\t\t\"@angular/common\": \"^4.4.3\",\n\t\t\"@angular/compiler\": \"^4.4.3\",\n\t\t\"@angular/compiler-cli\": \"^4.4.3\",\n\t\t\"@angular/core\": \"^4.4.3\",\n\t\t\"@angular/forms\": \"^4.4.3\",\n\t\t\"@angular/http\": \"^4.4.3\",\n\t\t\"@angular/platform-browser\": \"^4.4.3\",\n\t\t\"@angular/platform-browser-dynamic\": \"^4.4.3\",\n\t\t\"@ionic-native/core\": \"^4.3.1\",\n\t\t\"@ionic-native/device\": \"^4.3.1\",\n\t\t\"@ionic-native/local-notifications\": \"^4.3.1\",\n\t\t\"@ionic-native/splash-screen\": \"^4.3.1\",\n\t\t\"@ionic-native/status-bar\": \"^4.3.1\",\n\t\t\"@ionic/pro\": \"^1.0.9\",\n\t\t\"@ionic/storage\": \"2.0.1\",\n\t\t\"cordova-android\": \"^6.2.3\",\n\t\t\"cordova-ios\": \"^4.4.0\",\n\t\t\"cordova-plugin-add-swift-support\": \"^1.7.0\",\n\t\t\"cordova-plugin-app-event\": \"^1.2.1\",\n\t\t\"cordova-plugin-console\": \"1.0.5\",\n\t\t\"cordova-plugin-device\": \"~1.1.4\",\n\t\t\"cordova-plugin-ionic\": \"^1.1.9\",\n\t\t\"cordova-plugin-ionic-webview\": \"^1.1.9\",\n\t\t\"cordova-plugin-local-notifications\": \"git+https://github.com/katzer/cordova-plugin-local-notifications.git#ios10\",\n\t\t\"cordova-plugin-splashscreen\": \"^4.0.3\",\n\t\t\"cordova-plugin-statusbar\": \"^2.2.3\",\n\t\t\"cordova-plugin-whitelist\": \"1.3.1\",\n\t\t\"cordova-sqlite-storage\": \"~2.0.0\",\n\t\t\"date-fns\": \"^1.28.0\",\n\t\t\"de.appplant.cordova.plugin.local-notification\": \"https://github.com/katzer/cordova-plugin-local-notifications.git#ios10\",\n\t\t\"ionic-angular\": \"^3.7.0\",\n\t\t\"ionic-plugin-keyboard\": \"~2.2.1\",\n\t\t\"ionicons\": \"3.0.0\",\n\t\t\"lodash.pullallby\": \"^4.7.0\",\n\t\t\"rxjs\": \"^5.4.3\",\n\t\t\"sw-toolbox\": \"3.4.0\",\n\t\t\"url-search-params\": \"^0.9.0\",\n\t\t\"zone.js\": \"^0.8.18\"\n\t},\n\t\"devDependencies\": {\n\t\t\"@ionic/app-scripts\": \"^3.0.0\",\n\t\t\"typescript\": \"~2.2.1\"\n\t},\n\t\"cordovaPlugins\": [\n\t\t\"cordova-plugin-whitelist\",\n\t\t\"cordova-plugin-console\",\n\t\t\"cordova-plugin-statusbar\",\n\t\t\"cordova-plugin-device\",\n\t\t\"cordova-plugin-splashscreen\",\n\t\t\"ionic-plugin-keyboard\"\n\t],\n\t\"cordovaPlatforms\": [\n\t\t\"ios\",\n\t\t{\n\t\t\t\"platform\": \"ios\",\n\t\t\t\"version\": \"\",\n\t\t\t\"locator\": \"ios\"\n\t\t}\n\t],\n\t\"description\": \"belfastsalah2: An Ionic project\",\n\t\"cordova\": {\n\t\t\"plugins\": {\n\t\t\t\"cordova-plugin-console\": {},\n\t\t\t\"cordova-plugin-device\": {},\n\t\t\t\"cordova-plugin-whitelist\": {},\n\t\t\t\"cordova-sqlite-storage\": {},\n\t\t\t\"ionic-plugin-keyboard\": {},\n\t\t\t\"cordova-plugin-ionic-webview\": {},\n\t\t\t\"de.appplant.cordova.plugin.local-notification\": {},\n\t\t\t\"cordova-plugin-ionic\": {\n\t\t\t\t\"APP_ID\": \"6e868618\",\n\t\t\t\t\"CHANNEL_NAME\": \"Production\",\n\t\t\t\t\"UPDATE_METHOD\": \"background\",\n\t\t\t\t\"UPDATE_API\": \"https://api.ionicjs.com\",\n\t\t\t\t\"MAX_STORE\": \"2\"\n\t\t\t},\n\t\t\t\"cordova-plugin-splashscreen\": {},\n\t\t\t\"cordova-plugin-statusbar\": {}\n\t\t},\n\t\t\"platforms\": [\n\t\t\t\"android\",\n\t\t\t\"ios\"\n\t\t]\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 114\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 120;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 120\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 161;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 161\n// module chunks = 0","import { Component } from '@angular/core';\n\nimport { TodayPage } from '../today/today';\nimport { MonthPage } from '../month/month';\nimport { SettingsPage } from '../settings/settings';\n\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n  todayRoot: any = TodayPage;\n  monthRoot: any = MonthPage;\n  settingsRoot: any = SettingsPage;\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import {ChangeDetectorRef, Component} from '@angular/core';\nimport {SplashScreen} from '@ionic-native/splash-screen';\nimport {NavController} from 'ionic-angular';\nimport {PrayerTimeDay, PrayerTimes, PrayerTimeTime, PrayerTimesTable} from \"../../providers/prayertimes\";\nimport addDays from 'date-fns/add_days';\nimport {Subscription} from \"rxjs\";\nimport {TimerObservable} from \"rxjs/observable/TimerObservable\";\nimport {Analytics} from \"../../providers/analytics\";\n\n@Component({\n  selector: 'page-today',\n  templateUrl: 'today.html'\n})\nexport class TodayPage {\n  prayerTimesNow: PrayerTimeDay;\n  prayerTimesTomorrow: PrayerTimeDay;\n  nextPrayer: PrayerTimeTime;\n  prevPrayer: PrayerTimeTime;\n  currentDate: Date;\n  prayerTimesTable: PrayerTimesTable;\n  tabEnterTime: Date;\n  private tickSub : Subscription;\n\n  constructor(public navCtrl: NavController,\n              public prayerTimesService : PrayerTimes,\n              public splashScreen : SplashScreen,\n              private cd : ChangeDetectorRef,\n              public analytics: Analytics) {\n  }\n\n  loadTimeTable(){\n    return this.prayerTimesService.getTimeTable().then(prayerTime => {\n      this.prayerTimesTable = prayerTime;\n      this.update(new Date());\n    });\n  }\n\n  update(date : Date){\n    if(this.prayerTimesTable){\n      this.prayerTimesNow = this.prayerTimesTable.getByDate(date);\n      this.prayerTimesTomorrow = this.prayerTimesTable.getByDate(addDays(date, 1));\n      let times = this.prayerTimesTable.getNextAndPrevPrayer(date);\n      this.nextPrayer = times.next;\n      this.prevPrayer = times.prev;\n      this.currentDate = date;\n      this.cd.detectChanges();\n    }\n  }\n\n  ionViewWillEnter() {\n    this.loadTimeTable().then(() => {\n      let timer = TimerObservable.create(0, 1000);\n\n      this.tickSub = timer.subscribe(t => {\n        this.update(new Date());\n      });\n\n      this.splashScreen.hide();\n    });\n\n    this.tabEnterTime = new Date();\n    this.analytics.track('Tab - Enter - Today');\n  }\n\n  ionViewWillLeave(){\n    let now = new Date();\n    this.analytics.track('Tab - Leave - Today', {tabTimeSeconds: (now.getTime() - this.tabEnterTime.getTime())/1000});\n    if(this.tickSub) {\n      this.tickSub.unsubscribe();\n    }\n  }\n\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/today/today.ts","import {Component} from '@angular/core';\n\nimport {NavController, NavParams, PopoverController, ViewController} from 'ionic-angular';\nimport {PrayerTimeDay, PrayerTimes, PrayerTimesTable} from \"../../providers/prayertimes\";\n\nimport format from 'date-fns/format';\nimport setMonth from 'date-fns/set_month';\nimport {Analytics} from \"../../providers/analytics\";\n\n\n@Component({\n  template: `\n    <ion-list radio-group [(ngModel)]=\"selectedMonthIndex\" (ionChange)=\"changeMonth()\" class=\"popover-page\">\n      <ion-item *ngFor=\"let month of months\">\n        <ion-label>{{month.name}}<ion-icon style=\"padding-left: 8px;\" *ngIf=\"month.index === todayMonthIndex\" name=\"calendar\"></ion-icon></ion-label>\n        <ion-radio (click)=\"close()\" [value]=\"month.index\"></ion-radio>\n      </ion-item>\n    </ion-list>\n  `\n})\nexport class MonthSelector {\n  months: { name: string, index: number }[];\n  selectedMonthIndex: number;\n  todayMonthIndex: number;\n\n\n  constructor(public navParams: NavParams, public viewCtrl: ViewController) {\n    this.selectedMonthIndex = navParams.data.initialMonth;\n    this.todayMonthIndex = new Date().getMonth();\n    this.months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'].map((name, index) => ({\n      name,\n      index\n    }));\n  }\n\n  changeMonth() {\n    this.navParams.data.onChange(this.selectedMonthIndex)\n  }\n\n  close(){\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n@Component({\n  selector: 'page-month',\n  templateUrl: 'month.html'\n})\nexport class MonthPage {\n  currentMonth: PrayerTimeDay[];\n\n  prayerTimesTable: PrayerTimesTable;\n\n  today: Date;\n\n  todayMonthName: string;\n\n  now: Date;\n\n  tabEnterTime: Date;\n\n  constructor(public navCtrl: NavController,\n              public prayerTimesService: PrayerTimes,\n              private popoverCtrl: PopoverController,\n              public analytics: Analytics) {\n    this.initialise(new Date());\n  }\n\n  initialise(date: Date) {\n    this.today = date;\n    this.todayMonthName = format(this.today, 'MMMM');\n    this.now = new Date();\n    this.loadTimeTable().then(() => {\n      this.currentMonth = this.prayerTimesTable.getByMonth(this.today.getMonth()).filter(i => !!i);\n    });\n  }\n\n  loadTimeTable() {\n    return this.prayerTimesService.getTimeTable().then(prayerTime => {\n      this.prayerTimesTable = prayerTime;\n    });\n  }\n\n  presentPopover(ev) {\n    let popover = this.popoverCtrl.create(MonthSelector, {\n      onChange: (month) => {\n        this.initialise(setMonth(new Date(), month));\n      },\n      initialMonth: this.today.getMonth()\n    });\n\n    popover.present({\n      ev: ev\n    });\n  }\n\n  ionViewWillEnter() {\n    this.tabEnterTime = new Date();\n    this.analytics.track('Tab - Enter - Month');\n    this.initialise(this.tabEnterTime);\n  }\n\n  ionViewWillLeave(){\n    let now = new Date();\n    this.analytics.track('Tab - Leave - Month', {tabTimeSeconds: (now.getTime() - this.tabEnterTime.getTime())/1000});\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/month/month.ts","import { Component } from '@angular/core';\n\nimport {AlertController, ModalController, NavController, ToastController} from 'ionic-angular';\nimport {FormBuilder, FormGroup} from \"@angular/forms\";\nimport {Settings} from \"../../providers/settings\";\nimport {PrayerTimes} from \"../../providers/prayertimes\";\nimport {Notifications} from \"../../providers/notifications\";\n\nimport {MinuteSelectorModal} from './minute-selector-modal';\n\nimport packageJson from '../../../package.json';\nimport {Analytics} from \"../../providers/analytics\";\n\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html'\n})\nexport class SettingsPage {\n  tabEnterTime: Date;\n\n  settingsReady = false;\n\n  options: any;\n\n  form: FormGroup;\n\n  hasHanafiAsr: false;\n\n\n  constructor(\n    public navCtrl: NavController,\n    public settings: Settings,\n    public formBuilder: FormBuilder,\n    public prayerTimes: PrayerTimes,\n    public toastCtrl : ToastController,\n    public notifications : Notifications,\n    public modalCtrl: ModalController,\n    public alertCtrl : AlertController,\n    public analytics: Analytics) {\n  }\n\n  showInfo() {\n    this.alertCtrl.create({\n      title: `Prayer Times ${packageJson.version}`,\n      message: `Created by Mohamed Eltuhamy`\n    }).present();\n  }\n  clickLocation(){\n    let previousLocation = this.settings.allSettings.location;\n    this.settings.setValue('location', '').then(() => {\n      this.prayerTimes.getTimeTable({useCache: false, previousLocation}).then(() => this.notifications.schedule()).then(() => {\n        this.initialise();\n        this.toastCtrl.create({message: 'Location changed', duration: 1600}).present();\n      });\n    });\n\n  }\n\n  clickNotifyMinutes(){\n    const previousNotifyMinutes = this.settings.allSettings.notifyMinutes;\n    const modal = this.modalCtrl.create(MinuteSelectorModal, {previousNotifyMinutes});\n    const modalDismissed = new Promise(resolve => modal.onDidDismiss((data) => resolve(data)));\n    modalDismissed.then(({newNotifyMinutes}) => {\n      if(newNotifyMinutes !== previousNotifyMinutes){\n        this.settings.setValue('notifyMinutes', newNotifyMinutes);\n        this.notifications.schedule().then(() => {\n          this.toastCtrl.create({message: 'Notification time changed', duration: 1600}).present();\n        });\n      }\n    });\n\n    modal.present();\n\n  }\n\n  _buildForm(){\n    let group: any = {\n      notifications: [this.options.notifications],\n      hanafiAsr: [this.options.hanafiAsr],\n      nightMode: [this.options.nightMode],\n      nightModeMaghrib: [this.options.nightModeMaghrib],\n    };\n\n    this.form = this.formBuilder.group(group);\n\n    this.form.valueChanges.subscribe((v) => {\n      const oldNotificationSetting = this.settings.allSettings.notifications;\n      const oldHanafiSetting = this.settings.allSettings.hanafiAsr;\n      this.settings.merge(this.form.value).then(() => {\n        this.analytics.peopleSet(Object.assign({}, this.settings.allSettings));\n\n        // if notifications changed, we need to re-schedule\n        if(oldNotificationSetting !== v.notifications){\n          return this.notifications.schedule().then(() => {\n            if(v.notifications){\n              this.toastCtrl.create({message: 'Notifications enabled', duration: 1600}).present();\n            } else {\n              this.toastCtrl.create({message: 'Notifications disabled', duration: 1600}).present();\n            }\n          });\n        }\n\n        // If hanafi asr has changed, re-schedule\n        if(oldHanafiSetting !== v.hanafiAsr){\n          this.notifications.schedule();\n        }\n\n      });\n\n    });\n  }\n\n  ionViewDidLoad() {\n    // Build an empty form for the template to render\n    this.form = this.formBuilder.group({});\n  }\n\n\n  ionViewWillEnter() {\n    // Build an empty form for the template to render\n    this.form = this.formBuilder.group({});\n    this.initialise();\n    this.tabEnterTime = new Date();\n    this.analytics.track('Tab - Enter - Settings');\n  }\n\n  ionViewWillLeave(){\n    let now = new Date();\n    this.analytics.track('Tab - Leave - Month', {tabTimeSeconds: (now.getTime() - this.tabEnterTime.getTime())/1000});\n  }\n\n  initialise() {\n    this.settings.load().then(() => {\n      this.options = this.settings.allSettings;\n      this._buildForm();\n    }).then(() => this.prayerTimes.getTimeTable())\n      .then((prayerTimeTable) => {\n        this.hasHanafiAsr = prayerTimeTable.hasHanafiAsr();\n      })\n      .then(() => this.settingsReady = true);\n  }\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import {NavParams, ViewController} from \"ionic-angular\";\nimport {Component} from \"@angular/core\";\n\n@Component({\n  templateUrl: 'minute-selector-modal.html'\n})\nexport class MinuteSelectorModal {\n\n  previousNotifyMinutes: number;\n  newNotifyMinutes: number;\n\n  constructor(navParams: NavParams, public viewCtrl: ViewController) {\n    console.log('Starting a modal with params', navParams.data);\n    this.previousNotifyMinutes = navParams.data.previousNotifyMinutes;\n    this.newNotifyMinutes = this.previousNotifyMinutes;\n  }\n\n  dismiss(){\n    this.viewCtrl.dismiss({newNotifyMinutes: this.newNotifyMinutes});\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/minute-selector-modal.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { IonicApp, IonicModule } from 'ionic-angular';\nimport { Storage, IonicStorageModule } from '@ionic/storage'\nimport { PrayerTimesApp } from './app.component';\nimport { MonthPage, MonthSelector } from '../pages/month/month';\nimport { SettingsPage } from '../pages/settings/settings';\nimport { MinuteSelectorModal } from '../pages/settings/minute-selector-modal';\nimport { TodayPage } from '../pages/today/today';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { PrayerTimes } from \"../providers/prayertimes\";\nimport { PrayerItemComponent } from './prayer-item.component';\nimport { PrayerGridComponent } from './prayer-grid.component';\nimport { Settings } from '../providers/settings';\nimport { defaultSettings } from './defaultSettings';\n\n\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { HttpModule } from '@angular/http';\n\nimport {LocalNotifications} from '@ionic-native/local-notifications';\nimport {SplashScreen} from '@ionic-native/splash-screen';\nimport {StatusBar} from '@ionic-native/status-bar';\n\nimport {Notifications} from '../providers/notifications';\n\nimport {Analytics} from '../providers/analytics';\n\nimport { Device } from '@ionic-native/device';\n\nimport { TitleCasePipe } from './pipes';\n\nimport { Pro } from '@ionic/pro';\nimport {version as packageJsonVersion} from '../../package.json';\n\nconst IonicPro = Pro.init('6e868618', {\n  appVersion: packageJsonVersion\n});\n\nexport function provideSettings(storage: Storage) {\n  return new Settings(storage, defaultSettings);\n}\n\n@NgModule({\n  declarations: [\n    PrayerTimesApp,\n    MonthPage,\n    MonthSelector,\n    SettingsPage,\n    MinuteSelectorModal,\n    TodayPage,\n    TabsPage,\n    PrayerItemComponent,\n    PrayerGridComponent,\n    TitleCasePipe\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    IonicModule.forRoot(PrayerTimesApp),\n    IonicStorageModule.forRoot()\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    PrayerTimesApp,\n    MonthPage,\n    SettingsPage,\n    TodayPage,\n    TabsPage,\n    MonthSelector,\n    MinuteSelectorModal\n  ],\n  providers: [\n    { provide: Settings, useFactory: provideSettings, deps: [ Storage ] },\n    PrayerTimes,\n    LocalNotifications,\n    Device,\n    Notifications,\n    SplashScreen,\n    StatusBar,\n    Analytics\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport subDays from 'date-fns/sub_days';\nimport addDays from 'date-fns/add_days';\nimport distanceInWordsToNow from 'date-fns/distance_in_words_to_now';\nimport format from 'date-fns/format';\nimport 'rxjs/add/operator/toPromise';\nimport {Settings} from \"./settings\";\nimport { Storage } from '@ionic/storage';\nimport { AlertController } from 'ionic-angular';\nimport {SplashScreen} from \"@ionic-native/splash-screen\";\n\n\nconst STORAGE_KEY = '_prayer';\n\nexport class PrayerTimeTime {\n  hours: number;\n  minutes: number;\n  type: string;\n  name: string;\n  formattedTime: string;\n  day: number;\n  month: number;\n\n  constructor(stringTime : string, type: string, day: number, month: number){\n    let split = stringTime.split(':');\n    this.hours = +split[0];\n    this.minutes = +split[1];\n    this.type = type;\n    this.day = day;\n    this.month = month;\n    this.name = ({\n      fajr: 'Fajr',\n      shuruq: 'Shuruq',\n      duhr: 'Duhr',\n      asr: 'Asr',\n      asr2: 'Asr',\n      maghrib: 'Maghrib',\n      isha: 'Isha'\n    })[type];\n  }\n\n  toDate(baseDate: Date = new Date()): Date {\n    return new Date(Date.UTC(baseDate.getFullYear(), this.month, this.day, this.hours, this.minutes, 0, 0));\n  }\n\n  formattedDate(){\n    return format(this.toDate(), 'HH:mm');\n  }\n\n  timeAgo() : string{\n    return distanceInWordsToNow(this.toDate(), {includeSeconds: true, addSuffix: true});\n  }\n\n}\n\nexport class PrayerTimeDay {\n  month: number;\n  day: number;\n  fajr: PrayerTimeTime;\n  shuruq: PrayerTimeTime;\n  duhr: PrayerTimeTime;\n  asr: PrayerTimeTime;\n  asr2: PrayerTimeTime;\n  preferredAsr: PrayerTimeTime;\n  maghrib: PrayerTimeTime;\n  isha: PrayerTimeTime;\n\n\n  constructor(data: string[], options){\n    this.month = +data[0] - 1; // to mach js date\n    this.day = +data[1];\n    this.fajr = new PrayerTimeTime(data[2], 'fajr', this.day, this.month);\n    this.shuruq = new PrayerTimeTime(data[3], 'shuruq', this.day, this.month);\n    this.duhr = new PrayerTimeTime(data[4], 'duhr', this.day, this.month);\n    this.asr = new PrayerTimeTime(data[5], 'asr', this.day, this.month);\n    this.maghrib = new PrayerTimeTime(data[7], 'maghrib', this.day, this.month);\n    this.isha = new PrayerTimeTime(data[8], 'isha', this.day, this.month);\n\n    // hanafi asr\n    if(data[6]){\n      this.asr2 = new PrayerTimeTime(data[6], 'asr2', this.day, this.month);\n      this.preferredAsr = options.hanafiAsr ? this.asr2 : this.asr;\n    } else {\n      this.preferredAsr = this.asr;\n    }\n  }\n\n  hasHanafiAsr(): boolean{\n    return !!this.asr2;\n  }\n}\n\nexport class PrayerTimesTable{\n  private months: PrayerTimeDay[][];\n  private options: {};\n  constructor(data: string[][], options: {} = {}){\n    this.months = [];\n    data.forEach((dayData) => {\n      let prayerTimeDay = new PrayerTimeDay(dayData, options);\n      if(!this.months[prayerTimeDay.month]){\n        this.months[prayerTimeDay.month] = [];\n      }\n      this.months[prayerTimeDay.month][prayerTimeDay.day] = prayerTimeDay;\n    });\n    this.options = options;\n  }\n\n  getOption(option:string) : any {\n    return this.options[option];\n  }\n\n  getDayBefore(date: Date = new Date(), daysOffset: number = 1) : PrayerTimeDay{\n    return this.getByDate(subDays(date, daysOffset));\n  }\n\n  getDayAfter(date: Date = new Date(), daysOffset: number = 1) : PrayerTimeDay{\n    return this.getByDate(addDays(date, daysOffset));\n  }\n  getByDate(date: Date): PrayerTimeDay {\n    return this.months[date.getMonth()][date.getDate()];\n  }\n\n  getByMonth(month: number): PrayerTimeDay[] {\n    return this.months[month];\n  }\n\n  getNextAndPrevPrayer(date: Date = new Date()) : {next: PrayerTimeTime, prev: PrayerTimeTime}{\n\n    // today, tomorrow and yesterday's prayer times\n    let dayTimes = this.getByDate(date);\n    let dayAfterTimes = this.getDayAfter(date);\n    let dayBeforeTimes = this.getDayBefore(date);\n    let dayBefore = subDays(date, 1);\n    let dayAfter = addDays(date, 1);\n\n    let possibilities = [\n      {prayer: dayBeforeTimes.isha, time: dayBeforeTimes.isha.toDate(dayBefore)},\n      {prayer: dayTimes.fajr, time: dayTimes.fajr.toDate(date)},\n      {prayer: dayTimes.shuruq, time: dayTimes.shuruq.toDate(date)},\n      {prayer: dayTimes.duhr, time: dayTimes.duhr.toDate(date)},\n      {prayer: dayTimes.preferredAsr, time: dayTimes.preferredAsr.toDate(date)},\n      {prayer: dayTimes.maghrib, time: dayTimes.maghrib.toDate(date)},\n      {prayer: dayTimes.isha, time: dayTimes.isha.toDate(date)},\n      {prayer: dayAfterTimes.fajr, time: dayAfterTimes.fajr.toDate(dayAfter)}\n    ];\n\n    let future = possibilities.filter(v => v.time > date);\n    let next = future[0].prayer;\n    let prev = possibilities[possibilities.indexOf(future[0])-1].prayer;\n\n\n    return {next, prev};\n  }\n\n  hasHanafiAsr(){\n    return this.getByDate(new Date()).hasHanafiAsr();\n  }\n\n\n\n\n}\n\n@Injectable()\nexport class PrayerTimes{\n  cachedPrayerTimesTableJson : any;\n  locationSelectorVisible: boolean;\n  locationSelectorPromise;\n\n  constructor(public http: Http, public settings: Settings, public storage: Storage, public alertCtrl : AlertController, public splashScreen : SplashScreen) {\n    this.locationSelectorVisible = false;\n  }\n\n  selectLocation(previousLocation: string){\n    if(this.locationSelectorVisible){\n      return this.locationSelectorPromise;\n    } else {\n      this.locationSelectorPromise = new Promise(resolve => {\n        let alert = this.alertCtrl.create({enableBackdropDismiss: false});\n        alert.setTitle('Choose location');\n\n        alert.addInput({\n          type: 'radio',\n          label: 'London',\n          value: 'london',\n          checked: previousLocation ? (previousLocation === 'london') : true\n        });\n\n        alert.addInput({\n          type: 'radio',\n          label: 'Belfast',\n          value: 'belfast',\n          checked: previousLocation === 'belfast'\n        });\n\n        alert.addButton({\n          text: 'OK',\n          handler: selectedLocation => {\n            resolve(this.settings.setValue('location', selectedLocation).then(() => this.getJsonFromAsset(selectedLocation)));\n          }\n        });\n        this.splashScreen.hide();\n        alert.present();\n      }).then(returned => {\n        this.locationSelectorVisible = false;\n        return returned;\n      });\n      this.locationSelectorVisible = true;\n      return this.locationSelectorPromise;\n    }\n  }\n\n  getJsonFromAsset(resourceName: string) : Promise<any>{\n    return this.http.get(`./assets/prayertimes/${resourceName}.json`).toPromise().then(response => response.json());\n  }\n\n  getPreferredTimeTableFromAssetAndSave({saveToDb = false, previousLocation = ''} = {}): Promise<PrayerTimesTable>{\n    return this.settings.load()\n      .then(() => this.settings.getValue('location'))\n      .then(location => {\n        if(location){\n          return this.getJsonFromAsset(location);\n        } else {\n          return this.selectLocation(previousLocation);\n        }\n      })\n      .then(timeTableJson => this.setTimeTableJson(timeTableJson, {saveToDb}))\n      .then(savedTimeTableJson => new PrayerTimesTable(savedTimeTableJson, this.settings.allSettings));\n  }\n\n  setTimeTableJson(timeTableJson : any, {saveToDb = false} = {}) : Promise<any> {\n    this.cachedPrayerTimesTableJson = timeTableJson;\n    if(saveToDb){\n      return this.storage.set(STORAGE_KEY, timeTableJson);\n    } else {\n      return Promise.resolve(timeTableJson);\n    }\n  }\n\n  getTimeTable({useCache = true, previousLocation = ''} = {}) : Promise<PrayerTimesTable> {\n    return this.settings.load().then(() => {\n      if(this.cachedPrayerTimesTableJson && useCache){\n        return Promise.resolve(new PrayerTimesTable(this.cachedPrayerTimesTableJson, this.settings.allSettings));\n      } else {\n        return this.getPreferredTimeTableFromAssetAndSave({previousLocation});\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/prayertimes.ts","import { Component } from '@angular/core';\nimport {AlertController, Platform} from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { Settings } from '../providers/settings';\nimport {Notifications} from \"../providers/notifications\";\nimport {PrayerTimes} from \"../providers/prayertimes\";\nimport {SplashScreen} from \"@ionic-native/splash-screen\";\nimport {TimerObservable} from \"rxjs/observable/TimerObservable\";\nimport {Subscription} from \"rxjs/Subscription\";\nimport {Analytics} from \"../providers/analytics\";\n\nimport {version as packageJsonVersion} from '../../package.json';\nimport {Device} from \"@ionic-native/device\";\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class PrayerTimesApp {\n  rootPage = TabsPage;\n  settings: any;\n  nextPrayerType: string;\n  subscription: Subscription;\n\n  constructor(public platform: Platform,\n              public settingsProvider: Settings,\n              public notifications : Notifications,\n              public prayerTimes : PrayerTimes,\n              public alertCtrl : AlertController,\n              public splashScreen: SplashScreen,\n              public analytics : Analytics,\n              public device : Device,\n              private statusBar: StatusBar\n            ) {\n    settingsProvider.load()\n      .then(() => platform.ready())\n      .then(() => {\n        statusBar.styleDefault();\n        this.initialisePrayerTimes()\n          .then(() => this.initialiseAnalytics())\n          .then(() => this.scheduleNotifications());\n        this.settings = settingsProvider.allSettings;\n      });\n  }\n\n  scheduleNotifications(){\n    if(this.platform.is('cordova')){\n      return this.notifications.schedule({showToast: true});\n    }\n  }\n\n  initialisePrayerTimes(){\n    return this.prayerTimes.getTimeTable().then(prayerTimes => {\n      const {next} = prayerTimes.getNextAndPrevPrayer();\n      this.nextPrayerType = next.type;\n\n      let timer = TimerObservable.create(2000, 1000);\n      this.subscription = timer.subscribe(t => {\n        const {next} = prayerTimes.getNextAndPrevPrayer();\n        this.nextPrayerType = next.type;\n      });\n    })\n  }\n\n  isNightMode(nightMode: boolean, nightModeMaghrib: boolean, nextPrayerType : string): boolean{\n    if(nightMode && nightModeMaghrib){\n      return ['isha', 'fajr', 'shuruq'].indexOf(nextPrayerType) >= 0;\n    } else {\n      return nightMode;\n    }\n  }\n\n  initialiseAnalytics(){\n    const deviceStats = Object.assign({},{\n      appId: 'com.meltuhamy.londonsalah',\n      appVersion: packageJsonVersion,\n      platformId: this.device.platform\n    }, Object.assign({\n      cordova: this.device.cordova,\n      model: this.device.model,\n      platform: this.device.platform,\n      uuid: this.device.uuid,\n      version: this.device.version,\n      manufacturer:  this.device.manufacturer,\n      isVirtual: this.device.isVirtual,\n      serial: this.device.serial\n    }));\n\n    this.analytics.identify((this.device.serial || '') + this.device.uuid);\n\n    this.analytics.register(deviceStats);\n    this.analytics.peopleSet(deviceStats);\n    this.analytics.peopleSet(Object.assign({}, this.settings.allSettings));\n\n    if(this.settingsProvider.allSettings.showDisclaimer || this.settingsProvider.allSettings.showTrackingDisclaimer){\n      this.alertCtrl.create({\n        title: `Disclaimer`,\n        message: `This app uses your local device time.<br>It is up to you to ensure your device time is accurate. <br><br>By using this application, you agree to send us anonymous usage information. <br>We will use this information to improve your user experience. <br><br>This message will not be shown again.`,\n      }).present().then(() => {\n        this.settingsProvider.merge({showDisclaimer: false, showTrackingDisclaimer: false});\n        this.analytics.track('Activated')\n      });\n    }\n\n    this.analytics.track('Ready');\n    this.notifications.startTracking();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {Component, Input} from \"@angular/core\";\nimport {PrayerTimeTime} from \"../providers/prayertimes\";\nimport format from 'date-fns/format';\nimport distanceInWordsToNow from 'date-fns/distance_in_words_to_now';\n\n@Component({\n  selector: 'prayer-item',\n  template: `\n<ion-row class=\"prayer-item__row\">\n  <ion-col text-center><p>{{getFormattedPrayerName()}}</p></ion-col>\n  <ion-col text-center><p>{{getFormattedPrayerTime()}}</p></ion-col>\n</ion-row>`,\n  styles: [`\n:host {\n  margin-top: 5px;\n  margin-bottom: 5px;\n \n}\n\n:host:last-child {\n  margin-bottom: 0;\n}\n\n:host:first-child {\n  margin-top: 0;\n}\n`]\n})\nexport class PrayerItemComponent {\n  @Input() prayer : PrayerTimeTime;\n\n  constructor() {\n\n  }\n\n  getFormattedPrayerName() : string {\n    if(!this.prayer) return '';\n    return ({\n      fajr: 'Fajr',\n      shuruq: 'Shuruq',\n      duhr: 'Duhr',\n      asr: 'Asr',\n      asr2: 'Asr',\n      maghrib: 'Maghrib',\n      isha: 'Isha'\n    })[this.prayer.type];\n  }\n\n  getFormattedPrayerTime() : string {\n    if(!this.prayer) return '';\n    return format(this.prayer.toDate(), 'HH:mm');\n  }\n\n  timeAgo() : string {\n    if(!this.prayer) return '';\n    return distanceInWordsToNow(this.prayer.toDate(), {includeSeconds: true, addSuffix: true});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/prayer-item.component.ts","import {Component, Input} from \"@angular/core\";\nimport {PrayerTimeDay} from \"../providers/prayertimes\";\n\n@Component({\n  selector: 'prayer-grid',\n  template: `\n    <ion-grid>\n        <prayer-item [prayer]=\"prayerTimeDay.fajr\"></prayer-item>\n        <prayer-item [prayer]=\"prayerTimeDay.shuruq\"></prayer-item>\n        <prayer-item [prayer]=\"prayerTimeDay.duhr\"></prayer-item>\n        <prayer-item [prayer]=\"prayerTimeDay.preferredAsr\"></prayer-item>\n        <prayer-item [prayer]=\"prayerTimeDay.maghrib\"></prayer-item>\n        <prayer-item [prayer]=\"prayerTimeDay.isha\"></prayer-item>\n    </ion-grid>\n`\n})\nexport class PrayerGridComponent {\n  @Input() prayerTimeDay : PrayerTimeDay;\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/prayer-grid.component.ts","/**\n * Migrating users will have a localstorage item set. This means their location is London.\n * @returns {boolean}\n */\nfunction isMigration(){\n  try {\n    return !!(window.localStorage.getItem('belfastsalah_setting::showDisclaimer') || window.localStorage.getItem('belfastsalah_setting::showTrackingDisclaimer'));\n  } catch (e){\n    return false;\n  }\n}\n\nfunction getLegacySetting(settingName : string, defaultSetting : any){\n  try{\n    let item = window.localStorage.getItem(`belfastsalah_setting::${settingName}`);\n    if(item){\n      return JSON.parse(item);\n    } else {\n      return defaultSetting;\n    }\n  } catch (e){\n    return defaultSetting;\n  }\n}\n\nexport const defaultSettings = {\n  notifications: getLegacySetting('notifications', true),\n  notifyMinutes: getLegacySetting('notifyMinutes', 5),\n  hanafiAsr: getLegacySetting('hanafiAsr', false),\n  showDisclaimer: getLegacySetting('showDisclaimer', true),\n  nightMode: getLegacySetting('nightMode', false),\n  nightModeMaghrib: false,\n  showTrackingDisclaimer: getLegacySetting('showTrackingDisclaimer', true),\n  location: isMigration() ? 'london' : null\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/defaultSettings.ts","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({name: 'titleCase'})\nexport class TitleCasePipe implements PipeTransform {\n  public transform(input:string): string{\n    if (!input) {\n      return '';\n    } else {\n      return input.replace(/\\w\\S*/g, (txt => txt[0].toUpperCase() + txt.substr(1).toLowerCase() ));\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pipes.ts","import {Injectable} from \"@angular/core\";\nimport pullAllBy from 'lodash.pullallby';\nimport {Http} from \"@angular/http\";\nimport {Headers} from '@angular/http';\nimport 'rxjs/add/operator/toPromise';\nimport URLSearchParams from 'url-search-params';\n\nconst QUEUE = 'mpq';\nconst TRACKING_ENDPOINT = 'https://api.mixpanel.com/';\nconst RETRY_DELAY = 5000;\nconst BATCH_SIZE = 4;\nconst MP_TOKEN = '3f6dfebf2558c9e31c205a753e893b72';\n\n@Injectable()\nexport class Analytics {\n  registrationProperties: any;\n  pushTimeout: number;\n  idCounter: number;\n  queueBuffer: any[];\n\n  constructor(public http: Http){\n    this.queueBuffer = [];\n    this.idCounter = 0;\n    this.registrationProperties = {token : MP_TOKEN, distinct_id: `lodash_${++this.idCounter}`};\n\n    window.document.addEventListener('pause', () => {\n      this.track('Pause Event');\n      this.persist(QUEUE, this.queueBuffer);\n      this.queueBuffer.length = 0;\n    }, false);\n\n    window.document.addEventListener('resume', () => {\n      let queue = this.restore(QUEUE);\n      if(!queue){\n        queue = [];\n        this.persist(QUEUE, queue);\n      }\n      this.queueBuffer = queue;\n      this.track('Resume Event');\n      this.schedulePush();\n    }, false);\n  }\n\n  private persist(key : string, value : any){\n    window.localStorage.setItem(key, JSON.stringify(value));\n  }\n\n\n  private restore(key) : any{\n    let storedItems = [];\n    try {\n      storedItems = JSON.parse(window.localStorage.getItem(key));\n    } catch (e){\n    }\n\n    // merge storedItems with current items\n    let restored = this.queueBuffer;\n    (storedItems || []).forEach(item => {\n      if(!restored.find(queueItem => queueItem.id === item.id)){\n        restored.push(item);\n      }\n    });\n    return restored;\n  }\n\n  private getQueue(batchSize = 0, endpoint?){\n    let queue = this.queueBuffer;\n    if(endpoint){\n      queue = queue.filter(item => item.endpoint === endpoint);\n    }\n\n    return queue.slice(0, batchSize || queue.length);\n  }\n\n  private pushToQueue(val){\n    val.id = this.queueBuffer.push(val) + (new Date().getTime());\n    console.info('Tracking', val);\n    return val.id;\n  }\n\n\n  private preProcessTrackQueue(queue){\n    const nowTime = new Date().getTime();\n    return queue.map(queueItem => {\n      return {\n        event: queueItem.event,\n        properties: Object.assign({\n          timeToTrack: nowTime - queueItem.timeTracked,\n          time: queueItem.timeTracked\n        }, queueItem.properties )\n      };\n    });\n  }\n\n  private preProcessEngageQueue(queue){\n    return queue.map(queueItem => queueItem.properties);\n  }\n\n  private removeQueueItems(removeThese){\n    const queue = this.queueBuffer;\n    pullAllBy(queue, removeThese, 'id');\n    this.queueBuffer = queue;\n  }\n\n  private push(){\n    if(this.pushTimeout){\n      clearTimeout(this.pushTimeout);\n    }\n    this.doPost('track', this.getQueue(BATCH_SIZE, 'track'));\n    this.doPost('engage', this.getQueue(BATCH_SIZE, 'engage'));\n  }\n\n  private doPost(endpoint, subQueue){\n    if(subQueue.length === 0){\n      return;\n    }\n    const preProcessQueue = endpoint === 'track' ? this.preProcessTrackQueue : this.preProcessEngageQueue;\n    const queueEncoded = btoa(JSON.stringify(preProcessQueue(subQueue)));\n\n    let body = new URLSearchParams();\n    body.set('data', queueEncoded);\n\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/X-www-form-urlencoded');\n\n    console.info('Sending events: ', subQueue);\n    this.http.post(`${TRACKING_ENDPOINT + endpoint}/`, body.toString(), {headers}).toPromise().then(() => {\n      this.removeQueueItems(subQueue);\n      this.schedulePush();\n    }, () => {\n      this.schedulePush();\n    });\n  }\n\n  public track(event, properties = {}){\n    const nowTime = new Date().getTime();\n    this.pushToQueue({\n      event: event,\n      properties: Object.assign({time: nowTime}, this.registrationProperties, properties),\n      timeTracked: nowTime,\n      endpoint: 'track'\n    });\n\n    if(this.queueBuffer.length > 4){\n      this.push();\n    } else {\n      this.schedulePush();\n    }\n  }\n\n  public peopleSet(properties){\n    const nowTime = new Date().getTime();\n    this.pushToQueue({\n      properties: {\n        $time: nowTime,\n        $distinct_id: this.registrationProperties.distinct_id,\n        $token: this.registrationProperties.token,\n        $set: properties\n      },\n      timeTracked: nowTime,\n      endpoint: 'engage'\n    });\n\n    if(this.queueBuffer.length > 4){\n      this.push();\n    } else {\n      this.schedulePush();\n    }\n  }\n\n  public schedulePush(){\n    if(this.pushTimeout){\n      clearTimeout(this.pushTimeout);\n    }\n\n    this.pushTimeout = setTimeout(() => this.push(), RETRY_DELAY);\n  }\n\n  public register(properties){\n    Object.assign(this.registrationProperties, properties);\n  }\n\n  public identify(id){\n    this.registrationProperties.distinct_id = id;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/analytics.ts","import { Injectable } from '@angular/core';\n\nimport { Storage } from '@ionic/storage';\n\nconst CACHED_PROMISE_TTL = 1000;\n@Injectable()\nexport class Settings {\n  private SETTINGS_KEY: string = '_settings';\n\n  settings: any;\n\n  _defaults: any;\n  _readyPromise: Promise<any>;\n\n  cachedPromise: Promise<any>;\n  cachedPromiseTimestamp: number;\n\n  constructor(public storage: Storage, defaults: any) {\n    this._defaults = defaults;\n  }\n\n  load({useCache = true} = {}) : Promise<any>{\n    if(this.settings && useCache){\n      // already loaded!\n      return Promise.resolve(this.settings);\n    } else {\n      let nowTimestamp = new Date().getTime();\n      if(useCache && this.cachedPromise && this.cachedPromiseTimestamp && (this.cachedPromiseTimestamp + CACHED_PROMISE_TTL) > nowTimestamp){\n        return this.cachedPromise;\n      }\n      this.cachedPromiseTimestamp = nowTimestamp;\n      this.cachedPromise = this.storage.get(this.SETTINGS_KEY).then((value) => {\n        if(value) {\n          this.settings = value;\n          this._mergeDefaults(this._defaults);\n          return this.settings;\n        } else {\n          return this.setAll(this._defaults).then((val) => {\n            this.settings = val;\n            return this.settings;\n          })\n        }\n      });\n      return this.cachedPromise;\n    }\n\n  }\n\n  _mergeDefaults(defaults: any) {\n    for(let k in defaults) {\n      if(!(k in this.settings)) {\n        this.settings[k] = defaults[k];\n      }\n    }\n    return this.setAll(this.settings);\n  }\n\n  merge(settings: any) {\n    for(let k in settings) {\n      this.settings[k] = settings[k];\n    }\n    return this.save();\n  }\n\n  setValue(key: string, value: any) {\n    this.settings[key] = value;\n    return this.storage.set(this.SETTINGS_KEY, this.settings);\n  }\n\n  setAll(value: any) {\n    return this.storage.set(this.SETTINGS_KEY, value);\n  }\n\n  getValue(key: string) {\n    return this.storage.get(this.SETTINGS_KEY)\n      .then(settings => {\n        return settings[key];\n      });\n  }\n\n  save() {\n    return this.setAll(this.settings);\n  }\n\n  get allSettings() {\n    return this.settings;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/settings.ts"],"sourceRoot":""}